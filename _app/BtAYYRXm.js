import{_ as b}from"./C8EAv0dZ.js";import{_ as g}from"./DgdK61nf.js";import{L as v,o as p,c as u,a as s,t as l,i,e,l as V,m as n,v as d,n as m,p as y,d as f,b as h,w as k,s as _,A as C,g as P,h as N,C as q}from"./nrdZQqIi.js";import{_ as E}from"./BnX6e2qY.js";const A={class:"container-fluid text-center"},M={class:"py-2"},T={class:"mb-3 form-floating"},U=["placeholder"],$={class:"mb-3 position-relative form-floating"},B=["placeholder"],D={key:0,class:"invalid-tooltip"},S={class:"mb-3 form-floating"},L=["placeholder"],z={class:"mb-3 form-floating"},I=["placeholder"],K={class:"d-grid mt-4"},O=["value"],R={class:"mb-3"},j={class:"mb-3"},F={name:"SignupPage",data(){return{form:{nombre:"",email:"",password:"",password_check:"",error:!1}}},computed:{isNombreValid(){const t=this.form.nombre.trim();return t.length>0&&t.length<=50},isPasswordValid(){return this.form.password.length>=3},isPasswordCheckValid(){return this.isPasswordValid&&this.form.password===this.form.password_check},isEmailValid(){const t=document.createElement("input");return t.type="email",t.required=!0,t.value=this.form.email,t.checkValidity()}},methods:{async registro(){if(this.isNombreValid&&this.isEmailValid&&this.isPasswordValid&&this.isPasswordCheckValid){_("progress-dialog");const{error:t,error_key:o}=await C().registro({nombre:this.form.nombre.trim(),email:this.form.email,password:this.form.password});await P(.5),N("progress-dialog"),t?(o==="correo_existe"&&(this.form.error=!0,this.$refs.email.focus()),await q.showToast(e(o),"long")):this.$router.replace("/app/")}}}},W=v({...F,setup(t){return(o,r)=>{const w=b,c=g;return p(),u("section",null,[s("div",A,[s("div",M,[r[6]||(r[6]=s("img",{class:"img-fluid shadow-sm my-3 rounded bg-body",width:"90",height:"90",src:E},null,-1)),s("p",null,l(("t"in o?o.t:i(e))("enter_account_info")),1)]),s("form",{ref:"registro",novalidate:"",onSubmit:r[5]||(r[5]=V(a=>o.registro(),["prevent"]))},[s("div",T,[n(s("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>o.form.nombre=a),class:m(["form-control",{"is-valid":o.isNombreValid}]),type:"text",placeholder:("t"in o?o.t:i(e))("nombre"),required:""},null,10,U),[[d,o.form.nombre]]),s("label",null,l(("t"in o?o.t:i(e))("nombre")),1)]),s("div",$,[n(s("input",{ref:"email","onUpdate:modelValue":r[1]||(r[1]=a=>o.form.email=a),class:m(["form-control",{"is-valid":o.isEmailValid,"is-invalid":o.form.error}]),type:"email",placeholder:("t"in o?o.t:i(e))("correo"),autocomplete:"email",required:"",onKeyup:r[2]||(r[2]=a=>o.form.error=!1)},null,42,B),[[d,o.form.email]]),s("label",null,l(("t"in o?o.t:i(e))("correo")),1),o.form.error?(p(),u("div",D,l(("t"in o?o.t:i(e))("correo_existe")),1)):y("",!0)]),s("div",S,[n(s("input",{"onUpdate:modelValue":r[3]||(r[3]=a=>o.form.password=a),class:m(["form-control",{"is-valid":o.isPasswordValid}]),type:"password",placeholder:("t"in o?o.t:i(e))("password"),autocomplete:"new-password",required:""},null,10,L),[[d,o.form.password]]),s("label",null,l(("t"in o?o.t:i(e))("password")),1)]),s("div",z,[n(s("input",{"onUpdate:modelValue":r[4]||(r[4]=a=>o.form.password_check=a),class:m(["form-control",{"is-valid":o.isPasswordCheckValid}]),type:"password",placeholder:("t"in o?o.t:i(e))("password_check"),autocomplete:"off",required:""},null,10,I),[[d,o.form.password_check]]),s("label",null,l(("t"in o?o.t:i(e))("password_check")),1)]),s("div",K,[s("input",{class:"btn btn-primary mb-4",type:"submit",role:"button",value:("t"in o?o.t:i(e))("registrate")},null,8,O)])],544),s("p",R,[f(l(("t"in o?o.t:i(e))("tiene_cuenta"))+" ",1),h(w,{class:"text-primary",to:"/"},{default:k(()=>[f(l(("t"in o?o.t:i(e))("ingresa")),1)]),_:1})]),s("p",j,[s("small",null,l(("t"in o?o.t:i(e))("nota2")),1)])]),h(c,{message:("t"in o?o.t:i(e))("iniciando_sesion")},null,8,["message"])])}}});export{W as default};
