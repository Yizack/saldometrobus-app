import{_ as N}from"./DezXOYrR.js";import{_ as q}from"./DGc7Jy1_.js";import{L as M,A as T,N as A,O as d,M as P,o as g,c as b,a as s,t as l,i as o,e as a,l as S,m,v as u,n as p,p as U,d as _,b as y,w as B,s as D,g as E,h as L,S as O,C as z}from"./BfnQoGiE.js";import{_ as F}from"./PnepHC4l.js";const I={class:"container-fluid text-center"},K={class:"py-2"},R={class:"mb-3 form-floating"},$=["placeholder"],j={class:"mb-3 position-relative form-floating"},G=["placeholder"],H={key:0,class:"invalid-tooltip"},J={class:"mb-3 form-floating"},Q=["placeholder"],W={class:"mb-3 form-floating"},X=["placeholder"],Y={class:"d-grid mt-4"},Z=["value"],x={class:"mb-3"},ee={class:"mb-3"},le=M({__name:"registro",setup(oe){const k=T(),t=A({nombre:"",email:"",password:"",password_check:"",error:!1}),v=d(()=>{const e=t.value.nombre;return e.length>0&&e.length<=50}),c=d(()=>t.value.password.length>=3),f=d(()=>c.value&&t.value.password===t.value.password_check),h=d(()=>{const e=document.createElement("input");return e.type="email",e.required=!0,e.value=t.value.email,e.checkValidity()}),w=P(),V=async()=>{var e;if(v.value&&h.value&&c.value&&f.value){D("progress-dialog");const{error:r,error_key:n}=await k.registro({nombre:t.value.nombre,email:t.value.email,password:t.value.password});await E(.5),L("progress-dialog"),r?(n==="correo_existe"&&(t.value.error=!0,(e=w.value)==null||e.focus()),await z.showToast(a(n),"long")):O("/app/",{replace:!0})}};return(e,r)=>{const n=N,C=q;return g(),b("section",null,[s("div",I,[s("div",K,[r[5]||(r[5]=s("img",{class:"img-fluid shadow-sm my-3 rounded bg-body",width:"90",height:"90",src:F},null,-1)),s("p",null,l(("t"in e?e.t:o(a))("enter_account_info")),1)]),s("form",{ref:"registro",novalidate:"",onSubmit:S(V,["prevent"])},[s("div",R,[m(s("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>o(t).nombre=i),class:p(["form-control",{"is-valid":o(v)}]),type:"text",placeholder:("t"in e?e.t:o(a))("nombre"),required:""},null,10,$),[[u,o(t).nombre,void 0,{trim:!0}]]),s("label",null,l(("t"in e?e.t:o(a))("nombre")),1)]),s("div",j,[m(s("input",{ref_key:"email",ref:w,"onUpdate:modelValue":r[1]||(r[1]=i=>o(t).email=i),class:p(["form-control",{"is-valid":o(h),"is-invalid":o(t).error}]),type:"email",placeholder:("t"in e?e.t:o(a))("correo"),autocomplete:"email",required:"",onKeyup:r[2]||(r[2]=i=>o(t).error=!1)},null,42,G),[[u,o(t).email,void 0,{trim:!0}]]),s("label",null,l(("t"in e?e.t:o(a))("correo")),1),o(t).error?(g(),b("div",H,l(("t"in e?e.t:o(a))("correo_existe")),1)):U("",!0)]),s("div",J,[m(s("input",{"onUpdate:modelValue":r[3]||(r[3]=i=>o(t).password=i),class:p(["form-control",{"is-valid":o(c)}]),type:"password",placeholder:("t"in e?e.t:o(a))("password"),autocomplete:"new-password",required:""},null,10,Q),[[u,o(t).password]]),s("label",null,l(("t"in e?e.t:o(a))("password")),1)]),s("div",W,[m(s("input",{"onUpdate:modelValue":r[4]||(r[4]=i=>o(t).password_check=i),class:p(["form-control",{"is-valid":o(f)}]),type:"password",placeholder:("t"in e?e.t:o(a))("password_check"),autocomplete:"off",required:""},null,10,X),[[u,o(t).password_check]]),s("label",null,l(("t"in e?e.t:o(a))("password_check")),1)]),s("div",Y,[s("input",{class:"btn btn-primary mb-4",type:"submit",role:"button",value:("t"in e?e.t:o(a))("registrate")},null,8,Z)])],544),s("p",x,[_(l(("t"in e?e.t:o(a))("tiene_cuenta"))+" ",1),y(n,{class:"text-primary",to:"/"},{default:B(()=>[_(l(("t"in e?e.t:o(a))("ingresa")),1)]),_:1})]),s("p",ee,[s("small",null,l(("t"in e?e.t:o(a))("nota2")),1)])]),y(C,{message:("t"in e?e.t:o(a))("iniciando_sesion")},null,8,["message"])])}}});export{le as default};
