import{_ as N}from"./S-85kt2Q.js";import{_ as q}from"./TvgfZJk6.js";import{K as M,A as T,M as A,N as d,L as P,o as g,c as b,a as s,t as l,i as o,e as a,l as U,m as u,v as m,n as p,p as B,d as _,b as y,w as D,s as E,g as S,h as K,R as L,C as R}from"./DIlFzhNM.js";import{_ as z}from"./C6OETW4T.js";const F={class:"container-fluid text-center"},I={class:"py-2"},O={class:"mb-3 form-floating"},$=["placeholder"],j={class:"mb-3 position-relative form-floating"},G=["placeholder"],H={key:0,class:"invalid-tooltip"},J={class:"mb-3 form-floating"},Q=["placeholder"],W={class:"mb-3 form-floating"},X=["placeholder"],Y={class:"d-grid mt-4"},Z=["value"],x={class:"mb-3"},ee={class:"mb-3"},le=M({__name:"registro",setup(oe){const k=T(),t=A({nombre:"",email:"",password:"",password_check:"",error:!1}),f=d(()=>{const e=t.value.nombre;return e.length>0&&e.length<=50}),c=d(()=>t.value.password.length>=3),v=d(()=>c.value&&t.value.password===t.value.password_check),h=d(()=>{const e=document.createElement("input");return e.type="email",e.required=!0,e.value=t.value.email,e.checkValidity()}),w=P(),V=async()=>{var e;if(f.value&&h.value&&c.value&&v.value){E("progress-dialog");const{error:r,error_key:n}=await k.registro({nombre:t.value.nombre,email:t.value.email,password:t.value.password});await S(.5),K("progress-dialog"),r?(n==="correo_existe"&&(t.value.error=!0,(e=w.value)==null||e.focus()),await R.showToast(a(n),"long")):L("/app/",{replace:!0})}};return(e,r)=>{const n=N,C=q;return g(),b("section",null,[s("div",F,[s("div",I,[r[5]||(r[5]=s("img",{class:"img-fluid shadow-sm my-3 rounded bg-body",width:"90",height:"90",src:z},null,-1)),s("p",null,l(("t"in e?e.t:o(a))("enter_account_info")),1)]),s("form",{ref:"registro",novalidate:"",onSubmit:U(V,["prevent"])},[s("div",O,[u(s("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>o(t).nombre=i),class:p(["form-control",{"is-valid":o(f)}]),type:"text",placeholder:("t"in e?e.t:o(a))("nombre"),required:""},null,10,$),[[m,o(t).nombre,void 0,{trim:!0}]]),s("label",null,l(("t"in e?e.t:o(a))("nombre")),1)]),s("div",j,[u(s("input",{ref_key:"email",ref:w,"onUpdate:modelValue":r[1]||(r[1]=i=>o(t).email=i),class:p(["form-control",{"is-valid":o(h),"is-invalid":o(t).error}]),type:"email",placeholder:("t"in e?e.t:o(a))("correo"),autocomplete:"email",required:"",onKeyup:r[2]||(r[2]=i=>o(t).error=!1)},null,42,G),[[m,o(t).email,void 0,{trim:!0}]]),s("label",null,l(("t"in e?e.t:o(a))("correo")),1),o(t).error?(g(),b("div",H,l(("t"in e?e.t:o(a))("correo_existe")),1)):B("",!0)]),s("div",J,[u(s("input",{"onUpdate:modelValue":r[3]||(r[3]=i=>o(t).password=i),class:p(["form-control",{"is-valid":o(c)}]),type:"password",placeholder:("t"in e?e.t:o(a))("password"),autocomplete:"new-password",required:""},null,10,Q),[[m,o(t).password]]),s("label",null,l(("t"in e?e.t:o(a))("password")),1)]),s("div",W,[u(s("input",{"onUpdate:modelValue":r[4]||(r[4]=i=>o(t).password_check=i),class:p(["form-control",{"is-valid":o(v)}]),type:"password",placeholder:("t"in e?e.t:o(a))("password_check"),autocomplete:"off",required:""},null,10,X),[[m,o(t).password_check]]),s("label",null,l(("t"in e?e.t:o(a))("password_check")),1)]),s("div",Y,[s("input",{class:"btn btn-primary mb-4",type:"submit",role:"button",value:("t"in e?e.t:o(a))("registrate")},null,8,Z)])],544),s("p",x,[_(l(("t"in e?e.t:o(a))("tiene_cuenta"))+" ",1),y(n,{class:"text-primary",to:"/"},{default:D(()=>[_(l(("t"in e?e.t:o(a))("ingresa")),1)]),_:1})]),s("p",ee,[s("small",null,l(("t"in e?e.t:o(a))("nota2")),1)])]),y(C,{message:("t"in e?e.t:o(a))("iniciando_sesion")},null,8,["message"])])}}});export{le as default};
