import{_ as g}from"./BMDoT4JC.js";import{c as d,a as t,b as w,i as p,t as n,F as b,r as h,d as y,e as a,C as v,o as u,n as f,p as C,k}from"./BhPUGoL0.js";import{M as m}from"./dJ5KCoxN.js";import"./HDUkOwDS.js";const R={class:"input-group mb-2 rounded shadow-sm"},$={class:"text-primary-emphasis input-group-text border border-end-0"},B={class:"form-floating mb"},S=["placeholder"],F={id:"accordionFlushRutas",class:"accordion accordion-flush bg-body-tertiary border rounded shadow"},x={class:"accordion-header"},L=["data-bs-target","aria-expanded","aria-controls"],M=["id"],N={key:0,class:"text-center p-2 border-top"},V={class:"m-0"},z=["onClick"],I={class:"p-2"},O={class:"text-muted mb-0"},T={class:"mb-0 fw-bold"},A={class:"text-center mt-3"},j={class:"small m-0"},q={data(){return{buscar:{input:"",results:[]},tipos:[{nombre:a("rutas_corredores"),rutas:m.getRutas("Corredor")},{nombre:a("rutas_troncales"),rutas:m.getRutas("Troncal")},{nombre:a("rutas_complementarias"),rutas:m.getRutas("Complementaria")}]}},computed:{tiposFiltered(){if(!this.buscar.input)return this.tipos;const c=e=>{const l=String(this.buscar.input).trim().toLowerCase();return e.filter(o=>{const i=l.split(" ").map(_=>String(o.route_long_name.toLowerCase()).includes(_)).every(Boolean),r=String(o.route_short_name.toLowerCase()).includes(l);return i||r})};return this.tipos.map(e=>{const l=c(e.rutas);return{...e,rutas:l}})}},methods:{openRoute(c){v.isOnline()?this.$router.push(`/app/mibus/${c}`):this.$toast.show(a("error_conexion"))}}},U=Object.assign(q,{__name:"index",setup(c){return(s,e)=>{const l=g;return u(),d("section",null,[t("div",R,[t("span",$,[w(l,{name:"search",size:"sm"})]),t("div",B,[t("input",{class:"form-control bg-body-tertiary rounded-end border border-start-0 shadow-none",type:"text",placeholder:("t"in s?s.t:p(a))("buscar"),onKeyup:e[0]||(e[0]=o=>s.buscar.input=o.target.value)},null,40,S),t("label",null,n(("t"in s?s.t:p(a))("buscar")),1)])]),t("div",F,[(u(!0),d(b,null,h(s.tiposFiltered,(o,i)=>(u(),d("div",{key:i,class:"accordion-item"},[t("h2",x,[t("button",{class:f(["accordion-button",{collapsed:!s.buscar.input}]),type:"button","data-bs-toggle":"collapse","data-bs-target":`#flush-collapse${i}`,"aria-expanded":!!s.buscar.input,"aria-controls":`flush-collapse${i}`},[t("b",null,n(o.nombre),1)],10,L)]),t("div",{id:`flush-collapse${i}`,class:f(["accordion-collapse collapse",{show:s.buscar.input}])},[o.rutas.length===0?(u(),d("div",N,[t("p",V,n(("t"in s?s.t:p(a))("results_notfound")),1)])):C("",!0),(u(!0),d(b,null,h(o.rutas,r=>(u(),d("div",{key:r.route_id,class:"border-top"},[t("div",{class:"d-flex align-items-center p-2 hover",role:"button",onClick:_=>s.openRoute(r.route_id)},[t("p",{class:"p-2 m-0 text-white rounded small text-center fw-bold shadow-sm",style:k({backgroundColor:`#${r.route_color}`,minWidth:"3.7rem"})},n(r.route_short_name),5),t("div",I,[t("p",O,[t("small",null,n(r.route_type),1)]),t("p",T,n(r.route_long_name),1)])],8,z)]))),128))],10,M)]))),128))]),t("div",A,[t("p",j,[t("small",null,[y(n(("t"in s?s.t:p(a))("mibus_info"))+": ",1),e[1]||(e[1]=t("a",{class:"text-primary fw-bold",href:"https://www.mibus.com.pa/red-de-rutas/",target:"_blank"},"mibus.com.pa/red-de-rutas/",-1))])])])])}}});export{U as default};
