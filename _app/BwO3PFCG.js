import{_ as T}from"./B1Rvv2ut.js";import{_ as L}from"./CSypk9PP.js";import{_ as v,o,c as i,a as e,t,j as r,f as n,H as m,U as O,D as B,A as p,b as l,F as f,x as k,C as y,J as x,w as $,d as h,S as N}from"./BPgXNHRw.js";import{_ as X}from"./Cbxs5Wwd.js";import{_ as S}from"./BVjZDzg0.js";import"./CqH9bCLG.js";const I={},P={id:"about",class:"modal fade",tabindex:"-1","aria-labelledby":"aboutLabel","aria-hidden":"true"},E={class:"modal-dialog modal-dialog-centered"},R={class:"modal-content"},D={class:"modal-body"},V=e("button",{type:"button",class:"btn-close position-absolute end-0 pe-4","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),j={class:"text-center p-2"},F=e("img",{class:"img-fluid shadow-sm mb-3 p-2 rounded",width:"90",height:"90",src:X},null,-1),M={class:"small",style:{"white-space":"pre-wrap"}};function U(s,d){return o(),i("div",P,[e("div",E,[e("div",R,[e("div",D,[V,e("div",j,[F,e("div",M,t(("t"in s?s.t:r(n))("about_message")),1)])])])])])}const q=v(I,[["render",U]]),H={name:"MainNavbar",props:{title:{type:String,required:!0}},data(){return{menu:[{name:n("tarjetas"),icon:"card",link:"/app/",external:!1},{name:n("perfil"),icon:"profile",link:"/app/perfil/",external:!1},{name:n("rutas"),icon:"bus",link:"/app/mibus/",external:!1},{name:n("direcciones"),icon:"directions",link:"/app/direcciones/",external:!1},{name:n("estado"),icon:"status",link:m.status_url,external:!0},{name:n("donar"),icon:"donate",link:"/app/donar/",external:!1}],more:[{name:n("config"),icon:"settings",link:"/app/prefs/config/",external:!1},{name:n("acerca"),icon:"about",modal:"about",external:!1},{name:n("privacidad"),icon:"privacy",link:m.privacy(n("lang_code")),external:!0},{name:n("rate"),icon:"star",link:m.googlePlay,external:!0},{name:n("creditos"),icon:"credits",link:"/app/prefs/creditos/",external:!1}],touch:{startX:0,endX:0}}},mounted(){this.$refs.offcanvas.addEventListener("touchstart",s=>{this.touch.startX=s.changedTouches[0].screenX},!1),this.$refs.offcanvas.addEventListener("touchend",s=>{this.touch.endX=s.changedTouches[0].screenX,this.touch.endX<this.touch.startX&&O("menu")},!1)},beforeUnmount(){this.$refs.offcanvas.removeEventListener("touchstart",()=>{},!1),this.$refs.offcanvas.removeEventListener("touchend",()=>{},!1)},methods:{async logout(){await B.deleteAll(),await p().logout(),document.body.removeAttribute("style"),this.$router.replace("/")}}},J={class:"navbar navbar-dark navbar-expand-lg bg-primary sticky-top shadow-sm"},z={class:"container-fluid"},G={class:"text-white pe-4 display-6 d-flex","data-bs-toggle":"offcanvas",href:"#menu",role:"button","aria-controls":"menu"},K={class:"navbar-brand me-auto"},Q={class:"nav-item dropstart"},W={class:"text-white display-6 d-flex",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Y={class:"dropdown-menu m-0 end-0"},Z=["onClick"],ee={class:"ms-1"},se=["data-bs-target"],ae={class:"ms-1"},ne={class:"ms-1"},te={id:"menu",ref:"offcanvas",class:"offcanvas offcanvas-start",tabindex:"-1","aria-labelledby":"menuLabel"},oe={class:"offcanvas-header bg-primary align-items-start","data-bs-theme":"dark"},le={class:"text-white"},ie=e("img",{class:"img-fluid rounded-circle bg-white",src:S,width:"70",height:"70"},null,-1),re={id:"menuLabel",class:"offcanvas-title"},ce=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),de={class:"offcanvas-body px-0 h-100 w-100 d-flex flex-column"},me={class:"nav flex-column"},ue=["onClick"],_e=e("hr",null,null,-1),fe={class:"px-3"},he={class:"mt-auto text-center small"};function pe(s,d,u,ke,b,C){const c=T,g=L,w=q;return o(),i(f,null,[e("nav",J,[e("div",z,[e("a",G,[l(c,{name:"menu"})]),e("span",K,t(u.title),1),e("div",Q,[e("a",W,[l(c,{name:"more"})]),e("ul",Y,[(o(!0),i(f,null,k(b.more,(a,_)=>(o(),i("li",{key:_},[a.external?(o(),i("a",{key:0,class:"dropdown-item py-3 px-4 hover d-flex align-items-center",role:"button",onClick:A=>("CAPACITOR"in s?s.CAPACITOR:r(y)).openBrowser(a.link)},[l(c,{name:a.icon},null,8,["name"]),e("span",ee,t(a.name),1)],8,Z)):a.modal?(o(),i("a",{key:1,class:"dropdown-item py-3 px-4 hover d-flex align-items-center","data-bs-toggle":"modal","data-bs-target":`#${a.modal}`,role:"button"},[l(c,{name:a.icon},null,8,["name"]),e("span",ae,t(a.name),1)],8,se)):(o(),x(g,{key:2,class:"dropdown-item py-3 px-4 hover d-flex align-items-center",to:a.link},{default:$(()=>[l(c,{name:a.icon},null,8,["name"]),e("span",ne,t(a.name),1)]),_:2},1032,["to"]))]))),128))])])])]),e("div",te,[e("div",oe,[e("div",le,[ie,e("h5",re,t(("Auth"in s?s.Auth:r(p))().user.nombre),1),e("div",null,t(("Auth"in s?s.Auth:r(p))().user.email),1)]),ce]),e("div",de,[e("nav",me,[(o(!0),i(f,null,k(b.menu,(a,_)=>(o(),i("span",{key:_,"data-bs-dismiss":"offcanvas"},[a.external?(o(),i("a",{key:1,class:"nav-link text-dark-emphasis py-3",role:"button",onClick:A=>("CAPACITOR"in s?s.CAPACITOR:r(y)).openBrowser(a.link)},[l(c,{name:a.icon,class:"me-4"},null,8,["name"]),h(" "+t(a.name),1)],8,ue)):(o(),x(g,{key:0,class:"nav-link text-dark-emphasis py-3",to:a.link},{default:$(()=>[l(c,{name:a.icon,class:"me-4"},null,8,["name"]),h(" "+t(a.name),1)]),_:2},1032,["to"]))]))),128)),_e,e("div",fe,t(("t"in s?s.t:r(n))("sesion")),1),e("a",{class:"nav-link text-dark-emphasis py-3",role:"button",onClick:d[0]||(d[0]=a=>C.logout())},[l(c,{name:"logout",class:"me-4"}),h(" "+t(("t"in s?s.t:r(n))("salir")),1)])]),e("div",he,[e("i",null,t(("t"in s?s.t:r(n))("version"))+": "+t(("CONST"in s?s.CONST:r(m)).version),1)])])],512),l(w)],64)}const ve=v(H,[["render",pe]]),be={};function ge(s,d){const u=ve;return o(),i("main",null,[l(u,{title:("t"in s?s.t:r(n))("app_name")},null,8,["title"]),N(s.$slots,"default")])}const Te=v(be,[["render",ge]]);export{Te as default};
