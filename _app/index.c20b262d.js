import f from"./Icon.b39ddc78.js";import{f as l,m as t,x as y,u as p,p as d,F as _,y as b,t as a,C,o as u,q as g,K as v,h as w}from"./entry.72d9eb06.js";import{M as m}from"./mibus.9cfaedd7.js";import"./config.0d2f4d65.js";const k={class:"input-group mb-2 rounded shadow-sm"},R={class:"text-primary-emphasis input-group-text border border-end-0"},$={class:"form-floating mb"},B=["placeholder"],S={id:"accordionFlushRutas",class:"accordion accordion-flush bg-body-tertiary border rounded shadow"},F={class:"accordion-header"},L=["data-bs-target","aria-expanded","aria-controls"],M=["id"],x={key:0,class:"text-center p-2 border-top"},I={class:"m-0"},N=["onClick"],O={class:"p-2 m-0"},V={data(){return{buscar:{input:"",results:[]},tipos:[{nombre:a("rutas_corredores"),rutas:m.getRutas("Corredor")},{nombre:a("rutas_troncales"),rutas:m.getRutas("Troncal")},{nombre:a("rutas_complementarias"),rutas:m.getRutas("Complementaria")}]}},computed:{tiposFiltered(){if(!this.buscar.input)return this.tipos;const c=o=>{const n=String(this.buscar.input).trim().toLowerCase();return o.filter(s=>{const i=n.split(" ").map(h=>String(s.route_long_name.toLowerCase()).includes(h)).every(Boolean),r=String(s.route_short_name.toLowerCase()).includes(n);return i||r})};return this.tipos.map(o=>{const n=c(o.rutas);return{...o,rutas:n}})}},methods:{openRoute(c){C.isOnline()?this.$router.push(`/app/mibus/${c}`):this.$toast.show(a("error_conexion"))}}},T=Object.assign(V,{__name:"index",setup(c){return(e,o)=>{const n=f;return u(),l("section",null,[t("div",k,[t("span",R,[y(n,{name:"search",width:"1rem",height:"1rem"})]),t("div",$,[t("input",{class:"form-control bg-body-tertiary rounded-end border border-start-0 shadow-none",type:"text",placeholder:("t"in e?e.t:p(a))("buscar"),onKeyup:o[0]||(o[0]=s=>e.buscar.input=s.target.value)},null,40,B),t("label",null,d(("t"in e?e.t:p(a))("buscar")),1)])]),t("div",S,[(u(!0),l(_,null,b(e.tiposFiltered,(s,i)=>(u(),l("div",{key:i,class:"accordion-item"},[t("h2",F,[t("button",{class:g(["accordion-button",{collapsed:!e.buscar.input}]),type:"button","data-bs-toggle":"collapse","data-bs-target":`#flush-collapse${i}`,"aria-expanded":!!e.buscar.input,"aria-controls":`flush-collapse${i}`},[t("b",null,d(s.nombre),1)],10,L)]),t("div",{id:`flush-collapse${i}`,class:g(["accordion-collapse collapse",{show:e.buscar.input}])},[s.rutas.length===0?(u(),l("div",x,[t("p",I,d(("t"in e?e.t:p(a))("results_notfound")),1)])):v("",!0),(u(!0),l(_,null,b(s.rutas,r=>(u(),l("div",{key:r.route_id,class:"border-top"},[t("div",{class:"d-flex align-items-center p-2 rutas-mibus",role:"button",onClick:h=>e.openRoute(r.route_id)},[t("p",{class:"p-2 m-0 text-white rounded small text-center",style:w({backgroundColor:`#${r.route_color}`,minWidth:"3.7rem"})},d(r.route_short_name),5),t("p",O,d(r.route_long_name),1)],8,N)]))),128))],10,M)]))),128))])])}}});export{T as default};
