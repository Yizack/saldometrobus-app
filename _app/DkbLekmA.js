import{_ as M}from"./dec0c7Vy.js";import{e as $,m as R,p as U,q as k,r as L,x as A,y as E,c as _,o as v,a,t as i,f as e,g as t,b as p,z as m,A as S,B as V,D as z,h as D,i as f,v as w,E as y,w as C,T as F,d as q,F as N,G as P,H as I,I as K,J as O,K as j,L as G,s as H,k as J,l as Z,n as Q,C as W}from"./DEYjUKQU.js";import{_ as X}from"./DRQp3z9Z.js";import{_ as Y}from"./C_DRwsvh.js";import{_ as x}from"./6I0Bc7YP.js";import{u as ee}from"./utE55BPW.js";import"./CVXLxJVT.js";import"./DlAUqK2U.js";const se={class:"text-start position-absolute z-3 shadow mt-2 bg-body-tertiary rounded border p-4 small"},ae={class:"fs-6 fw-medium mb-2"},oe=$({__name:"PasswordRequirements",props:R({password:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const c=g,o=U(g,"modelValue"),n=k(()=>L(c.password)),u=k(()=>A(c.password,n.value));return E(()=>c.password,()=>{o.value=u.value}),(r,b)=>{const s=M;return v(),_("div",se,[a("h4",ae,i(("t"in r?r.t:e(t))("pass_req"))+":",1),a("div",{class:m(["d-flex align-items-center gap-2",e(n).hasLength?"text-success":"text-muted"])},[p(s,{name:e(n).hasLength?"check":"right_chevron"},null,8,["name"]),a("span",null,i(("t"in r?r.t:e(t))("pass_req_caracteres")),1)],2),a("div",{class:m(["d-flex align-items-center gap-2",e(n).hasUppercase?"text-success":"text-muted"])},[p(s,{name:e(n).hasUppercase?"check":"right_chevron"},null,8,["name"]),a("span",null,i(("t"in r?r.t:e(t))("pass_req_mayus"))+" (A-Z)",1)],2),a("div",{class:m(["d-flex align-items-center gap-2",e(n).hasLowercase?"text-success":"text-muted"])},[p(s,{name:e(n).hasLowercase?"check":"right_chevron"},null,8,["name"]),a("span",null,i(("t"in r?r.t:e(t))("pass_req_minus"))+" (a-z)",1)],2),a("div",{class:m(["d-flex align-items-center gap-2",e(n).hasNumber?"text-success":"text-muted"])},[p(s,{name:e(n).hasNumber?"check":"right_chevron"},null,8,["name"]),a("span",null,i(("t"in r?r.t:e(t))("pass_req_num"))+" (0-9)",1)],2),a("div",{class:m(["d-flex align-items-center gap-2",e(n).hasSpecial?"text-success":"text-muted"])},[p(s,{name:e(n).hasSpecial?"check":"right_chevron"},null,8,["name"]),a("span",null,i(("t"in r?r.t:e(t))("pass_req_special"))+` (!@#$%^&*(),.?'":{}|<>)`,1)],2)])}}}),te=Object.assign(oe,{__name:"PasswordRequirements"}),le={class:"container-fluid text-center"},ne={class:"py-2"},re={class:"mb-3 form-floating"},ie=["placeholder"],de={class:"mb-3 position-relative form-floating"},me=["placeholder"],ue={key:0,class:"invalid-tooltip"},pe={class:"mb-3 form-floating"},ce=["placeholder"],he={class:"mb-3 form-floating"},fe=["placeholder"],we={class:"d-grid mt-4"},ve=["value"],ge={class:"mb-3"},_e={class:"mb-3"},$e=$({__name:"registro",setup(g){const c=S(),o=ee({nombre:"",email:"",password:"",passwordCheck:"",error:!1}),n=V(!1),u=V(!1),r=z("email"),b=async()=>{var h;if(!(N(o.value.nombre)&&P(o.value.email)&&u.value&&G(o.value.password,o.value.passwordCheck)))return;H("progress-dialog");const{error:s,error_key:l}=await c.registro({nombre:o.value.nombre,email:o.value.email,password:o.value.password});await J(.5),Z("progress-dialog"),s?(l==="correo_existe"&&(o.value.error=!0,(h=r.value)==null||h.focus()),await W.showToast(t(l),"long")):Q("/app/",{replace:!0})};return(s,l)=>{const h=te,T=X,B=Y;return v(),_("section",null,[a("div",le,[a("div",ne,[l[8]||(l[8]=a("img",{class:"img-fluid shadow-sm my-3 rounded bg-body",width:"90",height:"90",src:x},null,-1)),a("p",null,i(("t"in s?s.t:e(t))("enter_account_info")),1)]),a("form",{novalidate:"",onSubmit:D(b,["prevent"])},[a("div",re,[f(a("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>e(o).nombre=d),class:m(["form-control",{"is-valid":("isValidName"in s?s.isValidName:e(N))(e(o).nombre)}]),type:"text",placeholder:("t"in s?s.t:e(t))("nombre"),required:""},null,10,ie),[[w,e(o).nombre,void 0,{trim:!0}]]),a("label",null,i(("t"in s?s.t:e(t))("nombre")),1)]),a("div",de,[f(a("input",{ref_key:"email",ref:r,"onUpdate:modelValue":l[1]||(l[1]=d=>e(o).email=d),class:m(["form-control",{"is-valid":("isValidEmail"in s?s.isValidEmail:e(P))(e(o).email),"is-invalid":e(o).error}]),type:"email",placeholder:("t"in s?s.t:e(t))("correo"),autocomplete:"email",required:"",onKeyup:l[2]||(l[2]=d=>e(o).error=!1)},null,42,me),[[w,e(o).email,void 0,{trim:!0}]]),a("label",null,i(("t"in s?s.t:e(t))("correo")),1),e(o).error?(v(),_("div",ue,i(("t"in s?s.t:e(t))("correo_existe")),1)):y("",!0)]),a("div",pe,[f(a("input",{"onUpdate:modelValue":l[3]||(l[3]=d=>e(o).password=d),class:m(["form-control",("passwordClass"in s?s.passwordClass:e(I))(e(u),e(o))]),type:"password",placeholder:("t"in s?s.t:e(t))("password"),autocomplete:"new-password",required:"",onFocus:l[4]||(l[4]=d=>n.value=!0),onBlur:l[5]||(l[5]=d=>n.value=!1)},null,42,ce),[[w,e(o).password]]),a("label",null,i(("t"in s?s.t:e(t))("password")),1),p(F,{name:"tab",mode:"out-in"},{default:C(()=>[e(n)?(v(),K(h,{key:0,modelValue:e(u),"onUpdate:modelValue":l[6]||(l[6]=d=>O(u)?u.value=d:null),password:e(o).password},null,8,["modelValue","password"])):y("",!0)]),_:1})]),a("div",he,[f(a("input",{"onUpdate:modelValue":l[7]||(l[7]=d=>e(o).passwordCheck=d),class:m(["form-control",("passwordCheckClass"in s?s.passwordCheckClass:e(j))(e(u),e(o))]),type:"password",placeholder:("t"in s?s.t:e(t))("password_check"),autocomplete:"off",required:""},null,10,fe),[[w,e(o).passwordCheck]]),a("label",null,i(("t"in s?s.t:e(t))("password_check")),1)]),a("div",we,[a("input",{class:"btn btn-primary mb-4",type:"submit",role:"button",value:("t"in s?s.t:e(t))("registrate")},null,8,ve)])],32),a("p",ge,[q(i(("t"in s?s.t:e(t))("tiene_cuenta"))+" ",1),p(T,{class:"text-primary",to:"/"},{default:C(()=>[q(i(("t"in s?s.t:e(t))("ingresa")),1)]),_:1})]),a("p",_e,[a("small",null,i(("t"in s?s.t:e(t))("nota2")),1)])]),p(B,{message:("t"in s?s.t:e(t))("iniciando_sesion")},null,8,["message"])])}}});export{$e as default};
