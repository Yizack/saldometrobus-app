import{_ as c}from"./nuxt-link.29860b6b.js";import{_ as w}from"./ProgressDialog.60f3dcbe.js";import{f as d,m as e,w as g,q as l,u as i,p as n,K as v,N as m,x as p,J as b,s as _,A as V,L as y,l as k,j as P,C,t,o as u}from"./entry.4cc0e35d.js";const N={class:"container-fluid text-center"},q={class:"my-5"},E={class:"mb-3"},I=["placeholder"],A={class:"mb-3 position-relative"},$=["placeholder"],B={key:0,class:"invalid-tooltip"},M={class:"mb-3"},S=["placeholder"],T={class:"mb-3"},j=["placeholder"],D={class:"d-grid mt-5"},K=["value"],L={class:"mb-3"},O={class:"mb-3"},z={name:"SignupPage",data(){return{form:{nombre:"",email:"",password:"",password_check:"",error:!1}}},computed:{isNombreValid(){const r=this.form.nombre.trim();return r.length>0&&r.length<=50},isPasswordValid(){return this.form.password.length>=3},isPasswordCheckValid(){return this.isPasswordValid&&this.form.password===this.form.password_check},isEmailValid(){const r=document.createElement("input");return r.type="email",r.required=!0,r.value=this.form.email,r.checkValidity()}},methods:{async registro(){if(this.isNombreValid&&this.isEmailValid&&this.isPasswordValid&&this.isPasswordCheckValid){_("progress-dialog"),this.form.submitted=!0;const{error:r,error_key:s}=await V().registro({nombre:this.form.nombre.trim(),email:this.form.email,password:await y(this.form.password)});await k(.5),P("progress-dialog"),r?(s==="correo_existe"&&(this.form.error=!0,this.$refs.email.focus()),await C.showToast(t(s),"long")):this.$router.replace("/app/")}}}},G=Object.assign(z,{setup(r){return(s,o)=>{const h=c,f=w;return u(),d("section",null,[e("div",N,[e("div",q,[e("form",{ref:"registro",novalidate:"",onSubmit:o[5]||(o[5]=g(a=>s.registro(),["prevent"]))},[e("div",E,[e("input",{class:l(["form-control",{"is-valid":s.isNombreValid}]),type:"text",placeholder:("t"in s?s.t:i(t))("nombre"),required:"",onInput:o[0]||(o[0]=a=>s.form.nombre=a.target.value)},null,42,I)]),e("div",A,[e("input",{ref:"email",class:l(["form-control",{"is-valid":s.isEmailValid,"is-invalid":s.form.error}]),type:"email",placeholder:("t"in s?s.t:i(t))("correo"),autocomplete:"email",required:"",onInput:o[1]||(o[1]=a=>s.form.email=a.target.value),onKeyup:o[2]||(o[2]=a=>s.form.error=!1)},null,42,$),s.form.error?(u(),d("div",B,n(("t"in s?s.t:i(t))("correo_existe")),1)):v("",!0)]),e("div",M,[e("input",{class:l(["form-control",{"is-valid":s.isPasswordValid}]),type:"password",placeholder:("t"in s?s.t:i(t))("password"),autocomplete:"new-password",required:"",onInput:o[3]||(o[3]=a=>s.form.password=a.target.value)},null,42,S)]),e("div",T,[e("input",{class:l(["form-control",{"is-valid":s.isPasswordCheckValid}]),type:"password",placeholder:("t"in s?s.t:i(t))("password_check"),autocomplete:"off",required:"",onInput:o[4]||(o[4]=a=>s.form.password_check=a.target.value)},null,42,j)]),e("div",D,[e("input",{class:"btn btn-primary mb-4",type:"submit",role:"button",value:("t"in s?s.t:i(t))("registrate")},null,8,K)])],544),e("p",L,[m(n(("t"in s?s.t:i(t))("tiene_cuenta"))+" ",1),p(h,{class:"text-primary",to:"/"},{default:b(()=>[m(n(("t"in s?s.t:i(t))("ingresa")),1)]),_:1})]),e("p",O,[e("small",null,n(("t"in s?s.t:i(t))("nota2")),1)])])]),p(f,{message:("t"in s?s.t:i(t))("iniciando_sesion")},null,8,["message"])])}}});export{G as default};
