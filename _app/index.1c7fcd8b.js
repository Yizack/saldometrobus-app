import g from"./Icon.7ffb096d.js";import{f as d,m as t,x as w,u as p,p as n,F as h,y as b,L as y,t as r,C as v,o as u,q as f,K as C,h as k}from"./entry.89cc182a.js";import{M as m}from"./mibus.9cfaedd7.js";import"./config.1eb7d5b2.js";const R={class:"input-group mb-2 rounded shadow-sm"},$={class:"text-primary-emphasis input-group-text border border-end-0"},B={class:"form-floating mb"},S=["placeholder"],x={id:"accordionFlushRutas",class:"accordion accordion-flush bg-body-tertiary border rounded shadow"},F={class:"accordion-header"},L=["data-bs-target","aria-expanded","aria-controls"],M=["id"],N={key:0,class:"text-center p-2 border-top"},V={class:"m-0"},I=["onClick"],O={class:"p-2"},T={class:"text-muted mb-0"},q={class:"mb-0 fw-bold"},z={class:"text-center mt-3"},A={class:"small m-0"},K=t("a",{class:"text-primary fw-bold",href:"https://www.mibus.com.pa/red-de-rutas/",target:"_blank"},"mibus.com.pa/red-de-rutas/",-1),j={data(){return{buscar:{input:"",results:[]},tipos:[{nombre:r("rutas_corredores"),rutas:m.getRutas("Corredor")},{nombre:r("rutas_troncales"),rutas:m.getRutas("Troncal")},{nombre:r("rutas_complementarias"),rutas:m.getRutas("Complementaria")}]}},computed:{tiposFiltered(){if(!this.buscar.input)return this.tipos;const c=a=>{const i=String(this.buscar.input).trim().toLowerCase();return a.filter(s=>{const l=i.split(" ").map(_=>String(s.route_long_name.toLowerCase()).includes(_)).every(Boolean),o=String(s.route_short_name.toLowerCase()).includes(i);return l||o})};return this.tipos.map(a=>{const i=c(a.rutas);return{...a,rutas:i}})}},methods:{openRoute(c){v.isOnline()?this.$router.push(`/app/mibus/${c}`):this.$toast.show(r("error_conexion"))}}},W=Object.assign(j,{__name:"index",setup(c){return(e,a)=>{const i=g;return u(),d("section",null,[t("div",R,[t("span",$,[w(i,{name:"search",width:"1rem",height:"1rem"})]),t("div",B,[t("input",{class:"form-control bg-body-tertiary rounded-end border border-start-0 shadow-none",type:"text",placeholder:("t"in e?e.t:p(r))("buscar"),onKeyup:a[0]||(a[0]=s=>e.buscar.input=s.target.value)},null,40,S),t("label",null,n(("t"in e?e.t:p(r))("buscar")),1)])]),t("div",x,[(u(!0),d(h,null,b(e.tiposFiltered,(s,l)=>(u(),d("div",{key:l,class:"accordion-item"},[t("h2",F,[t("button",{class:f(["accordion-button",{collapsed:!e.buscar.input}]),type:"button","data-bs-toggle":"collapse","data-bs-target":`#flush-collapse${l}`,"aria-expanded":!!e.buscar.input,"aria-controls":`flush-collapse${l}`},[t("b",null,n(s.nombre),1)],10,L)]),t("div",{id:`flush-collapse${l}`,class:f(["accordion-collapse collapse",{show:e.buscar.input}])},[s.rutas.length===0?(u(),d("div",N,[t("p",V,n(("t"in e?e.t:p(r))("results_notfound")),1)])):C("",!0),(u(!0),d(h,null,b(s.rutas,o=>(u(),d("div",{key:o.route_id,class:"border-top"},[t("div",{class:"d-flex align-items-center p-2 rutas-mibus",role:"button",onClick:_=>e.openRoute(o.route_id)},[t("p",{class:"p-2 m-0 text-white rounded small text-center fw-bold shadow-sm",style:k({backgroundColor:`#${o.route_color}`,minWidth:"3.7rem"})},n(o.route_short_name),5),t("div",O,[t("p",T,[t("small",null,n(o.route_type),1)]),t("p",q,n(o.route_long_name),1)])],8,I)]))),128))],10,M)]))),128))]),t("div",z,[t("p",A,[t("small",null,[y(n(("t"in e?e.t:p(r))("mibus_info"))+": ",1),K])])])])}}});export{W as default};
