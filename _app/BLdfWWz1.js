import{_ as h}from"./BxPDVbBY.js";import{_ as b}from"./DHg8Ht8L.js";import{s as y,A as m,g as C,h as _,C as w,e as t,_ as T,c as N,a as o,t as n,i as e,l as A,m as p,v as u,b as g,w as L,o as O,E as f,d as k}from"./D8wMuaWs.js";import{_ as S}from"./Dza5rxDI.js";const V={name:"LoginPage",data(){return{form:{email:"",password:""}}},methods:{async login(){const s=this.$refs.login;if(s.checkValidity()){y("progress-dialog");const{error:i,error_key:l}=await m().login({email:this.form.email,password:this.form.password});await C(.5),_("progress-dialog"),i?(await w.showToast(t(l),"long"),s.classList.remove("was-validated")):(s.classList.add("was-validated"),this.$router.replace("/app/"))}else s.classList.add("was-validated")},async guestLogin(){await m().guestLogin(),this.$router.replace("/app/")}}},P={class:"container-fluid text-center"},$={class:"py-4"},B={class:"mb-3 position-relative form-floating"},M=["placeholder"],D={class:"invalid-tooltip"},I={class:"mb-3 position-relative form-floating"},R=["placeholder"],q={class:"invalid-tooltip"},E={class:"d-grid gap-2 mt-5 mt-auto"},U={class:"btn btn-primary",type:"submit",role:"button"},j={class:"mt-4 small"};function z(s,i,l,F,r,d){const c=h,v=b;return O(),N("section",null,[o("div",P,[o("div",$,[i[5]||(i[5]=o("img",{class:"img-fluid shadow-sm my-3 p-2 rounded bg-body",width:"90",height:"90",src:S},null,-1)),o("h1",null,[o("b",null,n(("t"in s?s.t:e(t))("app_name")),1)]),o("p",null,n(("t"in s?s.t:e(t))("enter_email_password")),1)]),o("form",{ref:"login",novalidate:"",onSubmit:i[4]||(i[4]=A(a=>d.login(),["prevent"]))},[o("div",B,[p(o("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>r.form.email=a),class:"form-control",type:"email",placeholder:("t"in s?s.t:e(t))("correo"),name:"email",autocomplete:"email",required:""},null,8,M),[[u,r.form.email]]),o("label",null,n(("t"in s?s.t:e(t))("correo")),1),o("div",D,n(("t"in s?s.t:e(t))("correo_incorrecto")),1)]),o("div",I,[p(o("input",{"onUpdate:modelValue":i[1]||(i[1]=a=>r.form.password=a),class:"form-control",type:"password",placeholder:("t"in s?s.t:e(t))("password"),name:"password",autocomplete:"current-password",minlength:"3",required:""},null,8,R),[[u,r.form.password]]),o("label",null,n(("t"in s?s.t:e(t))("password")),1),o("div",q,n(("t"in s?s.t:e(t))("password_limit")),1)]),o("div",E,[o("button",U,n(("t"in s?s.t:e(t))("login")),1),o("a",{class:"text-primary my-2",role:"button",onClick:i[2]||(i[2]=a=>("CAPACITOR"in s?s.CAPACITOR:e(w)).openBrowser(`${("CONST"in s?s.CONST:e(f)).url}/cuenta?s=restaurar`))},n(("t"in s?s.t:e(t))("olvido_pass")),1),g(c,{class:"btn btn-success",role:"button",to:"/registro/"},{default:L(()=>[k(n(("t"in s?s.t:e(t))("registrate")),1)]),_:1}),o("button",{class:"btn btn-secondary",type:"button",role:"button",onClick:i[3]||(i[3]=a=>d.guestLogin())},n(("t"in s?s.t:e(t))("no_registro")),1)])],544),o("div",j,[o("i",null,n(("t"in s?s.t:e(t))("version"))+": "+n(("CONST"in s?s.CONST:e(f)).version),1)])]),g(v,{message:("t"in s?s.t:e(t))("iniciando_sesion")},null,8,["message"])])}const Q=T(V,[["render",z]]);export{Q as default};
