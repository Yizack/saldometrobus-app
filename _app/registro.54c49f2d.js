import{_ as c}from"./nuxt-link.814ace1b.js";import{_ as g}from"./ProgressDialog.95fd4dd4.js";import{c as d,a as o,t as l,j as i,l as w,n,H as b,d as m,b as p,w as v,s as _,A as V,L as y,i as k,h as P,C,f as e,o as u}from"./entry.81181d1a.js";import{_ as N}from"./logo2.0835e8b5.js";const q={class:"container-fluid text-center"},E={class:"py-2"},I=o("img",{class:"img-fluid shadow-sm my-3 rounded bg-body",width:"90",height:"90",src:N},null,-1),A={class:"mb-3 form-floating"},$=["placeholder"],B={class:"mb-3 position-relative form-floating"},M=["placeholder"],S={key:0,class:"invalid-tooltip"},T={class:"mb-3 form-floating"},j=["placeholder"],D={class:"mb-3 form-floating"},L=["placeholder"],O={class:"d-grid mt-4"},z=["value"],H={class:"mb-3"},K={class:"mb-3"},R={name:"SignupPage",data(){return{form:{nombre:"",email:"",password:"",password_check:"",error:!1}}},computed:{isNombreValid(){const t=this.form.nombre.trim();return t.length>0&&t.length<=50},isPasswordValid(){return this.form.password.length>=3},isPasswordCheckValid(){return this.isPasswordValid&&this.form.password===this.form.password_check},isEmailValid(){const t=document.createElement("input");return t.type="email",t.required=!0,t.value=this.form.email,t.checkValidity()}},methods:{async registro(){if(this.isNombreValid&&this.isEmailValid&&this.isPasswordValid&&this.isPasswordCheckValid){_("progress-dialog"),this.form.submitted=!0;const{error:t,error_key:s}=await V().registro({nombre:this.form.nombre.trim(),email:this.form.email,password:await y(this.form.password)});await k(.5),P("progress-dialog"),t?(s==="correo_existe"&&(this.form.error=!0,this.$refs.email.focus()),await C.showToast(e(s),"long")):this.$router.replace("/app/")}}}},U=Object.assign(R,{setup(t){return(s,r)=>{const f=c,h=g;return u(),d("section",null,[o("div",q,[o("div",E,[I,o("p",null,l(("t"in s?s.t:i(e))("enter_account_info")),1)]),o("form",{ref:"registro",novalidate:"",onSubmit:r[5]||(r[5]=w(a=>s.registro(),["prevent"]))},[o("div",A,[o("input",{class:n(["form-control",{"is-valid":s.isNombreValid}]),type:"text",placeholder:("t"in s?s.t:i(e))("nombre"),required:"",onInput:r[0]||(r[0]=a=>s.form.nombre=a.target.value)},null,42,$),o("label",null,l(("t"in s?s.t:i(e))("nombre")),1)]),o("div",B,[o("input",{ref:"email",class:n(["form-control",{"is-valid":s.isEmailValid,"is-invalid":s.form.error}]),type:"email",placeholder:("t"in s?s.t:i(e))("correo"),autocomplete:"email",required:"",onInput:r[1]||(r[1]=a=>s.form.email=a.target.value),onKeyup:r[2]||(r[2]=a=>s.form.error=!1)},null,42,M),o("label",null,l(("t"in s?s.t:i(e))("correo")),1),s.form.error?(u(),d("div",S,l(("t"in s?s.t:i(e))("correo_existe")),1)):b("",!0)]),o("div",T,[o("input",{class:n(["form-control",{"is-valid":s.isPasswordValid}]),type:"password",placeholder:("t"in s?s.t:i(e))("password"),autocomplete:"new-password",required:"",onInput:r[3]||(r[3]=a=>s.form.password=a.target.value)},null,42,j),o("label",null,l(("t"in s?s.t:i(e))("password")),1)]),o("div",D,[o("input",{class:n(["form-control",{"is-valid":s.isPasswordCheckValid}]),type:"password",placeholder:("t"in s?s.t:i(e))("password_check"),autocomplete:"off",required:"",onInput:r[4]||(r[4]=a=>s.form.password_check=a.target.value)},null,42,L),o("label",null,l(("t"in s?s.t:i(e))("password_check")),1)]),o("div",O,[o("input",{class:"btn btn-primary mb-4",type:"submit",role:"button",value:("t"in s?s.t:i(e))("registrate")},null,8,z)])],544),o("p",H,[m(l(("t"in s?s.t:i(e))("tiene_cuenta"))+" ",1),p(f,{class:"text-primary",to:"/"},{default:v(()=>[m(l(("t"in s?s.t:i(e))("ingresa")),1)]),_:1})]),o("p",K,[o("small",null,l(("t"in s?s.t:i(e))("nota2")),1)])]),p(h,{message:("t"in s?s.t:i(e))("iniciando_sesion")},null,8,["message"])])}}});export{U as default};
