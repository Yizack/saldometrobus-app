import{f as l,m as e,u as d,p as u,F as h,y as b,t as n,C as f,o as i,q as _,K as y,h as C}from"./entry.9300520c.js";import{M as p}from"./mibus.9cfaedd7.js";const v={class:"form-floating mb-2"},w=["placeholder"],k={id:"accordionFlushRutas",class:"accordion accordion-flush bg-body-tertiary border rounded shadow"},R={class:"accordion-header"},$=["data-bs-target","aria-expanded","aria-controls"],B=["id"],S={key:0,class:"text-center p-2 border-top"},F={class:"m-0"},L=["onClick"],M={class:"p-2 m-0"},O={data(){return{buscar:{input:"",results:[]},tipos:[{nombre:n("rutas_corredores"),rutas:p.getRutas("Corredor")},{nombre:n("rutas_troncales"),rutas:p.getRutas("Troncal")},{nombre:n("rutas_complementarias"),rutas:p.getRutas("Complementaria")}]}},computed:{tiposFiltered(){if(!this.buscar.input)return this.tipos;const c=o=>{const s=String(this.buscar.input).trim().toLowerCase();return o.filter(r=>{const a=s.split(" ").map(g=>String(r.route_long_name.toLowerCase()).includes(g)).every(Boolean),m=String(r.route_short_name.toLowerCase()).includes(s);return a||m})};return this.tipos.map(o=>{const s=c(o.rutas);return{...o,rutas:s}})}},methods:{openRoute(c){f.isOnline()?this.$router.push(`/app/mibus/${c}`):this.$toast.show(n("error_conexion"))}}},A=Object.assign(O,{__name:"index",setup(c){return(t,o)=>(i(),l("section",null,[e("div",v,[e("input",{class:"form-control border bg-body-tertiary rounded shadow-sm",type:"text",placeholder:("t"in t?t.t:d(n))("buscar"),onKeyup:o[0]||(o[0]=s=>t.buscar.input=s.target.value)},null,40,w),e("label",null,u(("t"in t?t.t:d(n))("buscar")),1)]),e("div",k,[(i(!0),l(h,null,b(t.tiposFiltered,(s,r)=>(i(),l("div",{key:r,class:"accordion-item"},[e("h2",R,[e("button",{class:_(["accordion-button",{collapsed:!t.buscar.input}]),type:"button","data-bs-toggle":"collapse","data-bs-target":`#flush-collapse${r}`,"aria-expanded":!!t.buscar.input,"aria-controls":`flush-collapse${r}`},[e("b",null,u(s.nombre),1)],10,$)]),e("div",{id:`flush-collapse${r}`,class:_(["accordion-collapse collapse",{show:t.buscar.input}])},[s.rutas.length===0?(i(),l("div",S,[e("p",F,u(("t"in t?t.t:d(n))("results_notfound")),1)])):y("",!0),(i(!0),l(h,null,b(s.rutas,a=>(i(),l("div",{key:a.route_id,class:"border-top"},[e("div",{class:"d-flex align-items-center p-2 rutas-mibus",role:"button",onClick:m=>t.openRoute(a.route_id)},[e("p",{class:"p-2 m-0 text-white rounded small text-center",style:C({backgroundColor:`#${a.route_color}`,minWidth:"3.7rem"})},u(a.route_short_name),5),e("p",M,u(a.route_long_name),1)],8,L)]))),128))],10,B)]))),128))])]))}});export{A as default};
