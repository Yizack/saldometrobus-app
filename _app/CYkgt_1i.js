import k from"./DBOd63DP.js";import{_ as L}from"./Bx6tuT5j.js";import{_ as N}from"./pBGypGOw.js";import{e as A,A as O,c as S,o as V,a as e,b as m,t as a,f as t,g as s,h as B,i as c,v as w,C as u,j as f,w as I,d as M,s as b,k as v,l as h,n as g}from"#entry";import{_ as P}from"./2ffV4RYU.js";import{u as D}from"./BTPz0zLs.js";const R={class:"container-fluid text-center"},$={class:"py-4"},j={class:"mb-3 position-relative form-floating"},q=["placeholder"],F={class:"invalid-tooltip"},U={class:"mb-3 position-relative form-floating"},z=["placeholder"],E={class:"invalid-tooltip"},G={class:"d-grid gap-2 mt-5 mt-auto"},H={class:"btn btn-primary",type:"submit",role:"button"},J={class:"mt-4 small"},oo=A({__name:"index",setup(K){const d=O(),i=D({email:"",password:""}),_=async()=>{b("progress-dialog");const o=await d.googleLogin();if(await v(.5),h("progress-dialog"),!o)return;const{error:n,error_key:r}=o;if(n){await u.showToast(s(r),"long");return}g("/app/",{replace:!0})},y=async o=>{const n=o.currentTarget;if(!n.checkValidity())return n.classList.add("was-validated");b("progress-dialog");const{error:r,error_key:p}=await d.login({email:i.value.email,password:i.value.password});await v(.5),h("progress-dialog"),r?(await u.showToast(s(p),"long"),n.classList.remove("was-validated")):(n.classList.add("was-validated"),g("/app/",{replace:!0}))},C=async()=>{await d.guestLogin(),g("/app/",{replace:!0})};return(o,n)=>{const r=k,p=L,T=N;return V(),S("section",null,[e("div",R,[e("div",$,[n[3]||(n[3]=e("img",{class:"img-fluid shadow-sm my-3 p-2 rounded bg-body",width:"90",height:"90",src:P},null,-1)),e("h1",null,[e("b",null,a(("t"in o?o.t:t(s))("app_name")),1)]),e("p",null,a(("t"in o?o.t:t(s))("enter_email_password")),1)]),e("form",{novalidate:"",onSubmit:B(y,["prevent"])},[e("div",j,[c(e("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>t(i).email=l),class:"form-control",type:"email",placeholder:("t"in o?o.t:t(s))("correo"),name:"email",autocomplete:"email",required:""},null,8,q),[[w,t(i).email]]),e("label",null,a(("t"in o?o.t:t(s))("correo")),1),e("div",F,a(("t"in o?o.t:t(s))("correo_incorrecto")),1)]),e("div",U,[c(e("input",{"onUpdate:modelValue":n[1]||(n[1]=l=>t(i).password=l),class:"form-control",type:"password",placeholder:("t"in o?o.t:t(s))("password"),name:"password",autocomplete:"current-password",minlength:"3",required:""},null,8,z),[[w,t(i).password]]),e("label",null,a(("t"in o?o.t:t(s))("password")),1),e("div",E,a(("t"in o?o.t:t(s))("password_limit")),1)]),e("div",G,[e("button",H,a(("t"in o?o.t:t(s))("login")),1),e("button",{class:"btn btn-outline-dark d-flex align-items-center justify-content-center gap-2 text-decoration-none d-flex align-items-center gap-2",type:"button",role:"button",onClick:_},[m(r,{name:"google",size:"1rem"}),e("span",null,a(("t"in o?o.t:t(s))("google_login")),1)]),e("a",{class:"text-primary my-2",role:"button",onClick:n[2]||(n[2]=l=>("CAPACITOR"in o?o.CAPACITOR:t(u)).openBrowser(`${("CONST"in o?o.CONST:t(f)).url}/cuenta?s=restaurar`))},a(("t"in o?o.t:t(s))("olvido_pass")),1),m(p,{class:"btn btn-success",role:"button",to:"/registro/"},{default:I(()=>[M(a(("t"in o?o.t:t(s))("registrate")),1)]),_:1}),e("button",{class:"btn btn-secondary",type:"button",role:"button",onClick:C},a(("t"in o?o.t:t(s))("no_registro")),1)])],32),e("div",J,[e("i",null,a(("t"in o?o.t:t(s))("version"))+": "+a(("CONST"in o?o.CONST:t(f)).version),1)])]),m(T,{message:("t"in o?o.t:t(s))("iniciando_sesion")},null,8,["message"])])}}});export{oo as default};
