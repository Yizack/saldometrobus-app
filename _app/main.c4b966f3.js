import{_ as T}from"./Icon.2beacc62.js";import{_ as L}from"./nuxt-link.0ff4cbfa.js";import{_ as v,o,c as i,a as e,t as n,j as r,f as t,H as m,S as O,D as B,A as p,b as l,F as f,x as k,C as y,I as x,w as $,d as h,R as N}from"./entry.c8defc74.js";import{_ as X}from"./logo.3f2d0dfb.js";import{_ as I}from"./logo2.2af12e36.js";import"./nuxt-icon.vue.5a65fa08.js";const S={},P={id:"about",class:"modal fade",tabindex:"-1","aria-labelledby":"aboutLabel","aria-hidden":"true"},R={class:"modal-dialog modal-dialog-centered"},E={class:"modal-content"},D={class:"modal-body"},V=e("button",{type:"button",class:"btn-close position-absolute end-0 pe-4","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),j={class:"text-center p-2"},F=e("img",{class:"img-fluid shadow-sm mb-3 p-2 rounded",width:"90",height:"90",src:X},null,-1),M={class:"small",style:{"white-space":"pre-wrap"}};function q(s,d){return o(),i("div",P,[e("div",R,[e("div",E,[e("div",D,[V,e("div",j,[F,e("div",M,n(("t"in s?s.t:r(t))("about_message")),1)])])])])])}const H=v(S,[["render",q]]),U={name:"MainNavbar",props:{title:{type:String,required:!0}},data(){return{menu:[{name:t("tarjetas"),icon:"card",link:"/app/",external:!1},{name:t("perfil"),icon:"profile",link:"/app/perfil/",external:!1},{name:t("rutas"),icon:"bus",link:"/app/mibus/",external:!1},{name:t("direcciones"),icon:"directions",link:"/app/direcciones/",external:!1},{name:t("estado"),icon:"status",link:m.status_url,external:!0},{name:t("donar"),icon:"donate",link:"/app/donar/",external:!1}],more:[{name:t("config"),icon:"settings",link:"/app/prefs/config/",external:!1},{name:t("acerca"),icon:"about",modal:"about",external:!1},{name:t("privacidad"),icon:"privacy",link:m.privacy(t("lang_code")),external:!0},{name:t("rate"),icon:"star",link:m.googlePlay,external:!0},{name:t("creditos"),icon:"credits",link:"/app/prefs/creditos/",external:!1}],touch:{startX:0,endX:0}}},mounted(){this.$refs.offcanvas.addEventListener("touchstart",s=>{this.touch.startX=s.changedTouches[0].screenX},!1),this.$refs.offcanvas.addEventListener("touchend",s=>{this.touch.endX=s.changedTouches[0].screenX,this.touch.endX<this.touch.startX&&O("menu")},!1)},beforeUnmount(){this.$refs.offcanvas.removeEventListener("touchstart",()=>{},!1),this.$refs.offcanvas.removeEventListener("touchend",()=>{},!1)},methods:{async logout(){await B.deleteAll(),await p().logout(),document.body.removeAttribute("style"),this.$router.replace("/")}}},z={class:"navbar navbar-dark navbar-expand-lg bg-primary sticky-top shadow-sm"},G={class:"container-fluid"},J={class:"text-white pe-4 display-6 d-flex","data-bs-toggle":"offcanvas",href:"#menu",role:"button","aria-controls":"menu"},K={class:"navbar-brand me-auto"},Q={class:"nav-item dropstart"},W={class:"text-white display-6 d-flex",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Y={class:"dropdown-menu m-0 end-0"},Z=["onClick"],ee={class:"ms-1"},se=["data-bs-target"],ae={class:"ms-1"},te={class:"ms-1"},ne={id:"menu",ref:"offcanvas",class:"offcanvas offcanvas-start",tabindex:"-1","aria-labelledby":"menuLabel"},oe={class:"offcanvas-header bg-primary align-items-start"},le={class:"text-white"},ie=e("img",{class:"img-fluid rounded-circle bg-white",src:I,width:"70",height:"70"},null,-1),re={id:"menuLabel",class:"offcanvas-title"},ce=e("div",{"data-bs-theme":"dark"},[e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),de={class:"offcanvas-body px-0 h-100 w-100 d-flex flex-column"},me={class:"nav flex-column"},ue=["onClick"],_e=e("hr",null,null,-1),fe={class:"px-3"},he={class:"mt-auto text-center small"};function pe(s,d,u,ke,b,C){const c=T,g=L,w=H;return o(),i(f,null,[e("nav",z,[e("div",G,[e("a",J,[l(c,{name:"menu"})]),e("span",K,n(u.title),1),e("div",Q,[e("a",W,[l(c,{name:"more"})]),e("ul",Y,[(o(!0),i(f,null,k(b.more,(a,_)=>(o(),i("li",{key:_},[a.external?(o(),i("a",{key:0,class:"dropdown-item py-3 px-4 hover d-flex align-items-center",role:"button",onClick:A=>("CAPACITOR"in s?s.CAPACITOR:r(y)).openBrowser(a.link)},[l(c,{name:a.icon},null,8,["name"]),e("span",ee,n(a.name),1)],8,Z)):a.modal?(o(),i("a",{key:1,class:"dropdown-item py-3 px-4 hover d-flex align-items-center","data-bs-toggle":"modal","data-bs-target":`#${a.modal}`,role:"button"},[l(c,{name:a.icon},null,8,["name"]),e("span",ae,n(a.name),1)],8,se)):(o(),x(g,{key:2,class:"dropdown-item py-3 px-4 hover d-flex align-items-center",to:a.link},{default:$(()=>[l(c,{name:a.icon},null,8,["name"]),e("span",te,n(a.name),1)]),_:2},1032,["to"]))]))),128))])])])]),e("div",ne,[e("div",oe,[e("div",le,[ie,e("h5",re,n(("Auth"in s?s.Auth:r(p))().user.nombre),1),e("div",null,n(("Auth"in s?s.Auth:r(p))().user.email),1)]),ce]),e("div",de,[e("nav",me,[(o(!0),i(f,null,k(b.menu,(a,_)=>(o(),i("span",{key:_,"data-bs-dismiss":"offcanvas"},[a.external?(o(),i("a",{key:1,class:"nav-link text-dark-emphasis py-3",role:"button",onClick:A=>("CAPACITOR"in s?s.CAPACITOR:r(y)).openBrowser(a.link)},[l(c,{name:a.icon,class:"me-4"},null,8,["name"]),h(" "+n(a.name),1)],8,ue)):(o(),x(g,{key:0,class:"nav-link text-dark-emphasis py-3",to:a.link},{default:$(()=>[l(c,{name:a.icon,class:"me-4"},null,8,["name"]),h(" "+n(a.name),1)]),_:2},1032,["to"]))]))),128)),_e,e("div",fe,n(("t"in s?s.t:r(t))("sesion")),1),e("a",{class:"nav-link text-dark-emphasis py-3",role:"button",onClick:d[0]||(d[0]=a=>C.logout())},[l(c,{name:"logout",class:"me-4"}),h(" "+n(("t"in s?s.t:r(t))("salir")),1)])]),e("div",he,[e("i",null,n(("t"in s?s.t:r(t))("version"))+": "+n(("CONST"in s?s.CONST:r(m)).version),1)])])],512),l(w)],64)}const ve=v(U,[["render",pe]]),be={};function ge(s,d){const u=ve;return o(),i("main",null,[l(u,{title:("t"in s?s.t:r(t))("app_name")},null,8,["title"]),N(s.$slots,"default")])}const Te=v(be,[["render",ge]]);export{Te as default};
