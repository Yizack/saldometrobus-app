import{_ as k}from"./BFvKw4K0.js";import{_ as L}from"./DPhEd_16.js";import{_ as N}from"./9mcyzb85.js";import{e as A,A as O,c as S,o as V,a as t,b as m,t as a,f as e,g as s,h as B,i as c,v as w,C as u,j as f,w as I,d as M,s as b,k as v,l as h,n as g}from"./wjIQI9fy.js";import{_ as P}from"./Ci3bjoxi.js";import{u as D}from"./DaUyJHdR.js";import"./mhbfX4eu.js";import"./DlAUqK2U.js";const R={class:"container-fluid text-center"},$={class:"py-4"},j={class:"mb-3 position-relative form-floating"},q=["placeholder"],F={class:"invalid-tooltip"},U={class:"mb-3 position-relative form-floating"},z=["placeholder"],E={class:"invalid-tooltip"},G={class:"d-grid gap-2 mt-5 mt-auto"},H={class:"btn btn-primary",type:"submit",role:"button"},J={class:"mt-4 small"},eo=A({__name:"index",setup(K){const d=O(),i=D({email:"",password:""}),_=async()=>{b("progress-dialog");const o=await d.googleLogin();if(await v(.5),h("progress-dialog"),!o)return;const{error:n,error_key:r}=o;if(n){await u.showToast(s(r),"long");return}g("/app/",{replace:!0})},y=async o=>{const n=o.currentTarget;if(!n.checkValidity())return n.classList.add("was-validated");b("progress-dialog");const{error:r,error_key:p}=await d.login({email:i.value.email,password:i.value.password});await v(.5),h("progress-dialog"),r?(await u.showToast(s(p),"long"),n.classList.remove("was-validated")):(n.classList.add("was-validated"),g("/app/",{replace:!0}))},C=async()=>{await d.guestLogin(),g("/app/",{replace:!0})};return(o,n)=>{const r=k,p=L,T=N;return V(),S("section",null,[t("div",R,[t("div",$,[n[3]||(n[3]=t("img",{class:"img-fluid shadow-sm my-3 p-2 rounded bg-body",width:"90",height:"90",src:P},null,-1)),t("h1",null,[t("b",null,a(("t"in o?o.t:e(s))("app_name")),1)]),t("p",null,a(("t"in o?o.t:e(s))("enter_email_password")),1)]),t("form",{novalidate:"",onSubmit:B(y,["prevent"])},[t("div",j,[c(t("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>e(i).email=l),class:"form-control",type:"email",placeholder:("t"in o?o.t:e(s))("correo"),name:"email",autocomplete:"email",required:""},null,8,q),[[w,e(i).email]]),t("label",null,a(("t"in o?o.t:e(s))("correo")),1),t("div",F,a(("t"in o?o.t:e(s))("correo_incorrecto")),1)]),t("div",U,[c(t("input",{"onUpdate:modelValue":n[1]||(n[1]=l=>e(i).password=l),class:"form-control",type:"password",placeholder:("t"in o?o.t:e(s))("password"),name:"password",autocomplete:"current-password",minlength:"3",required:""},null,8,z),[[w,e(i).password]]),t("label",null,a(("t"in o?o.t:e(s))("password")),1),t("div",E,a(("t"in o?o.t:e(s))("password_limit")),1)]),t("div",G,[t("button",H,a(("t"in o?o.t:e(s))("login")),1),t("button",{class:"btn btn-outline-dark d-flex align-items-center justify-content-center gap-2 text-decoration-none d-flex align-items-center gap-2",type:"button",role:"button",onClick:_},[m(r,{name:"google",size:"sm"}),t("span",null,a(("t"in o?o.t:e(s))("google_login")),1)]),t("a",{class:"text-primary my-2",role:"button",onClick:n[2]||(n[2]=l=>("CAPACITOR"in o?o.CAPACITOR:e(u)).openBrowser(`${("CONST"in o?o.CONST:e(f)).url}/cuenta?s=restaurar`))},a(("t"in o?o.t:e(s))("olvido_pass")),1),m(p,{class:"btn btn-success",role:"button",to:"/registro/"},{default:I(()=>[M(a(("t"in o?o.t:e(s))("registrate")),1)]),_:1}),t("button",{class:"btn btn-secondary",type:"button",role:"button",onClick:C},a(("t"in o?o.t:e(s))("no_registro")),1)])],32),t("div",J,[t("i",null,a(("t"in o?o.t:e(s))("version"))+": "+a(("CONST"in o?o.CONST:e(f)).version),1)])]),m(T,{message:("t"in o?o.t:e(s))("iniciando_sesion")},null,8,["message"])])}}});export{eo as default};
