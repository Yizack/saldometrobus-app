import{_ as L}from"./BhuPlrUP.js";import{e as z,m as D,p as F,q as y,r as I,x as j,y as K,c as _,o as v,a,t as l,f as e,g as t,b as m,z as u,A as O,B as V,D as G,h as H,i as f,v as w,E as C,w as q,T as J,d as N,s as P,k as R,l as T,C as $,n as B,F as M,G as U,H as Z,I as Q,J as W,K as X,L as Y}from"./C8iYp1M7.js";import{_ as x}from"./CcDf8kZu.js";import{_ as ee}from"./B55vQRaX.js";import{_ as se}from"./pG4rxWS4.js";import{u as ae}from"./C7C8EjqS.js";import"./mHBef4or.js";import"./DlAUqK2U.js";const oe={class:"text-start position-absolute z-3 shadow mt-2 bg-body-tertiary rounded border p-4 small"},te={class:"fs-6 fw-medium mb-2"},ne=z({__name:"PasswordRequirements",props:D({password:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(b){const g=b,o=F(b,"modelValue"),r=y(()=>I(g.password)),p=y(()=>j(g.password,r.value));return K(()=>g.password,()=>{o.value=p.value}),(i,k)=>{const c=L;return v(),_("div",oe,[a("h4",te,l(("t"in i?i.t:e(t))("pass_req"))+":",1),a("div",{class:u(["d-flex align-items-center gap-2",e(r).hasLength?"text-success":"text-muted"])},[m(c,{name:e(r).hasLength?"check":"right_chevron"},null,8,["name"]),a("span",null,l(("t"in i?i.t:e(t))("pass_req_caracteres")),1)],2),a("div",{class:u(["d-flex align-items-center gap-2",e(r).hasUppercase?"text-success":"text-muted"])},[m(c,{name:e(r).hasUppercase?"check":"right_chevron"},null,8,["name"]),a("span",null,l(("t"in i?i.t:e(t))("pass_req_mayus"))+" (A-Z)",1)],2),a("div",{class:u(["d-flex align-items-center gap-2",e(r).hasLowercase?"text-success":"text-muted"])},[m(c,{name:e(r).hasLowercase?"check":"right_chevron"},null,8,["name"]),a("span",null,l(("t"in i?i.t:e(t))("pass_req_minus"))+" (a-z)",1)],2),a("div",{class:u(["d-flex align-items-center gap-2",e(r).hasNumber?"text-success":"text-muted"])},[m(c,{name:e(r).hasNumber?"check":"right_chevron"},null,8,["name"]),a("span",null,l(("t"in i?i.t:e(t))("pass_req_num"))+" (0-9)",1)],2),a("div",{class:u(["d-flex align-items-center gap-2",e(r).hasSpecial?"text-success":"text-muted"])},[m(c,{name:e(r).hasSpecial?"check":"right_chevron"},null,8,["name"]),a("span",null,l(("t"in i?i.t:e(t))("pass_req_especial"))+` (!@#$%^&*(),.?'":{}|<>)`,1)],2)])}}}),le=Object.assign(ne,{__name:"PasswordRequirements"}),re={class:"container-fluid text-center"},ie={class:"py-2"},de={class:"mb-3 form-floating"},me=["placeholder"],ue={class:"mb-3 position-relative form-floating"},pe=["placeholder"],ce={key:0,class:"invalid-tooltip"},ge={class:"mb-3 form-floating"},he=["placeholder"],fe={class:"mb-3 form-floating"},we=["placeholder"],ve={class:"d-grid my-4 gap-2"},be=["value"],_e={class:"mb-3"},ke={class:"mb-3"},$e=z({__name:"registro",setup(b){const g=O(),o=ae({nombre:"",email:"",password:"",passwordCheck:"",error:!1}),r=V(!1),p=V(!1),i=G("email"),k=async()=>{P("progress-dialog");const s=await g.googleRegistro();if(await R(.5),T("progress-dialog"),!s)return;const{error:n,error_key:h}=s;if(n){await $.showToast(t(h),"long");return}B("/app/",{replace:!0})},c=async()=>{var h;if(!(M(o.value.nombre)&&U(o.value.email)&&p.value&&Y(o.value.password,o.value.passwordCheck)))return;P("progress-dialog");const{error:s,error_key:n}=await g.registro({nombre:o.value.nombre,email:o.value.email,password:o.value.password});await R(.5),T("progress-dialog"),s?(n==="correo_existe"&&(o.value.error=!0,(h=i.value)==null||h.focus()),await $.showToast(t(n),"long")):B("/app/",{replace:!0})};return(s,n)=>{const h=le,A=L,E=x,S=ee;return v(),_("section",null,[a("div",re,[a("div",ie,[n[8]||(n[8]=a("img",{class:"img-fluid shadow-sm my-3 rounded bg-body",width:"90",height:"90",src:se},null,-1)),a("p",null,l(("t"in s?s.t:e(t))("enter_account_info")),1)]),a("form",{novalidate:"",onSubmit:H(c,["prevent"])},[a("div",de,[f(a("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>e(o).nombre=d),class:u(["form-control",{"is-valid":("isValidName"in s?s.isValidName:e(M))(e(o).nombre)}]),type:"text",placeholder:("t"in s?s.t:e(t))("nombre"),required:""},null,10,me),[[w,e(o).nombre,void 0,{trim:!0}]]),a("label",null,l(("t"in s?s.t:e(t))("nombre")),1)]),a("div",ue,[f(a("input",{ref_key:"email",ref:i,"onUpdate:modelValue":n[1]||(n[1]=d=>e(o).email=d),class:u(["form-control",{"is-valid":("isValidEmail"in s?s.isValidEmail:e(U))(e(o).email),"is-invalid":e(o).error}]),type:"email",placeholder:("t"in s?s.t:e(t))("correo"),autocomplete:"email",required:"",onKeyup:n[2]||(n[2]=d=>e(o).error=!1)},null,42,pe),[[w,e(o).email,void 0,{trim:!0}]]),a("label",null,l(("t"in s?s.t:e(t))("correo")),1),e(o).error?(v(),_("div",ce,l(("t"in s?s.t:e(t))("correo_existe")),1)):C("",!0)]),a("div",ge,[f(a("input",{"onUpdate:modelValue":n[3]||(n[3]=d=>e(o).password=d),class:u(["form-control",("passwordClass"in s?s.passwordClass:e(Z))(e(p),e(o))]),type:"password",placeholder:("t"in s?s.t:e(t))("password"),autocomplete:"new-password",required:"",onFocus:n[4]||(n[4]=d=>r.value=!0),onBlur:n[5]||(n[5]=d=>r.value=!1)},null,42,he),[[w,e(o).password]]),a("label",null,l(("t"in s?s.t:e(t))("password")),1),m(J,{name:"tab",mode:"out-in"},{default:q(()=>[e(r)?(v(),Q(h,{key:0,modelValue:e(p),"onUpdate:modelValue":n[6]||(n[6]=d=>W(p)?p.value=d:null),password:e(o).password},null,8,["modelValue","password"])):C("",!0)]),_:1})]),a("div",fe,[f(a("input",{"onUpdate:modelValue":n[7]||(n[7]=d=>e(o).passwordCheck=d),class:u(["form-control",("passwordCheckClass"in s?s.passwordCheckClass:e(X))(e(p),e(o))]),type:"password",placeholder:("t"in s?s.t:e(t))("password_check"),autocomplete:"off",required:""},null,10,we),[[w,e(o).passwordCheck]]),a("label",null,l(("t"in s?s.t:e(t))("password_check")),1)]),a("div",ve,[a("input",{class:"btn btn-primary",type:"submit",role:"button",value:("t"in s?s.t:e(t))("registrate")},null,8,be),a("span",null,l(("t"in s?s.t:e(t))("or")),1),a("button",{class:"btn btn-outline-dark d-flex align-items-center justify-content-center gap-2 text-decoration-none d-flex align-items-center gap-2",type:"button",role:"button",onClick:k},[m(A,{name:"google",size:"sm"}),a("span",null,l(("t"in s?s.t:e(t))("google_signup")),1)])])],32),a("p",_e,[N(l(("t"in s?s.t:e(t))("tiene_cuenta"))+" ",1),m(E,{class:"text-primary",to:"/"},{default:q(()=>[N(l(("t"in s?s.t:e(t))("ingresa")),1)]),_:1})]),a("p",ke,[a("small",null,l(("t"in s?s.t:e(t))("nota2")),1)])]),m(S,{message:("t"in s?s.t:e(t))("iniciando_sesion")},null,8,["message"])])}}});export{$e as default};
